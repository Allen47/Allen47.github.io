---
title: 百度一面面经
date: 2020-03-20 17:27:31
tags: [百度,面经]
categories: 面经
---

好了经过了一波丧心病狂的投简历风波，各个公司陆陆续续开始面试了。本文记录一下最近百度一面的面经，有的问题没答上来，也 google 到了答案。是记录，也是为了后续的 offer 蓄力。

<!-- more -->

很多问题的答案其实可以单独写成一篇 Blog 来详细讲解的，本文仅仅起到一个抛砖引玉的作用，毕竟面试时由于各种因素也不可能面面俱到，还请读者们自行就感兴趣的问题进行深究。

### 1、自我介绍，项目介绍，实习介绍

这部分就略过了（后续的文章这部分也不再出现）。



### 2、https 和 http区别？为什么https可以实现安全？SSL是怎样保证安全的？

区别：

- https 需要 CA 证书，一般免费的很少，需要交费
- http 明文传输；https 是具有安全性的 ssl 加密传输
- http 和 https 使用的端口，前者80，后者443
- http的连接很简单，是无状态的；HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，比http协议安全。

https 是以安全为目标的 http 通道，简单的说是 http 的安全版。即HTTP下加入SSL层，HTTPS的安全基础是SSL，因此加密的详细内容就需要SSL。主要用到对称加密、非对称加密、证书，等技术进行客户端与服务器的数据加密传输，最终达到保证整个通信的安全性。

作用：内容加密；身份认证；数据完整性（防止被冒充 or 篡改）【“数字摘要“是https能确保数据完整性和防篡改的根本原因。】

https 的劣势：因为需要对数据加密【**<u>需要对会话密钥进行非对称的加解密，再对数据本身进行对称的加解密，且需要三次握手</u>**】，所以比 http 慢。



---

### 3、了解php吗？

用过，了解基本用法。【这题答案略了，没意思】



---

### 4、进程间通信的方式

- 匿名管道（pipe）：在内核中开辟一个数据缓冲区，只支持单向数据流的流动，按照先进先出的方式从缓存区存取数据。局限性主要有：仅支持单向的数据流，且只能用于具有亲缘关系的进程间通信；缓冲区容量有限，传输的是无格式的字节流。

  

- 有名管道（FIFO）：不同于匿名管道，它提供了一个路径名与之关联，使得**有名管道名字以文件的形式存在文件系统中【但内容存在内存中】**。就算没有亲缘关系的进程，只要能访问到路径就能进行通信。也遵循先进先出。

  

- 信号（Signal）：Linux 系统中的机制，信号可以在任何时候发给另一个进程（就算该进程没执行，此信号会被内核保存直到进程恢复执行并传递给它）。Linux 有很多 signal，如：SIGHUP、SIGINT等等，这部分内容较多，请读者自行查看。

  

- 消息队列（Message Queue）：

  - MQ 是存放在内核中的消息链表，每个 MQ 由标识符表示。
  - MQ 与管道的区别在于，管道存在内存或者文件系统中，而 MQ 存在内核中。
  - 消息队列在某个进程往一个队列写入消息之前，并不需要另外某个进程在该队列上等待消息的到达。
  - 目前主要有两种类型的消息队列：POSIX消息队列以及System V消息队列，系统V消息队列目前被大量使用。

  

- 共享内存（share memory）：多个进程直接读写同一片内存区域，是最快的可用 IPC 形式，效率很高。由于共享了一片内存，所以需要用某种共享机制（信号量等）来达到进程的同步和互斥。

  

- 信号量（semaphore）：是一个计数器，用于多进程对共享数据的访问。常常作为一种锁机制，达到同步、互斥的目的。

  - **互斥：**是指某一资源同时只允许一个访问者对其进行访问，具有唯一性和排它性。但互斥无法限制访问者对资源的访问顺序，即访问是无序的。
    **同步：**是指在互斥的基础上（大多数情况），通过其它机制实现访问者对资源的有序访问。

  

- 套接字（socket）：是一种通信机制，写过网络通信的朋友都应该有印象。凭借这种机制可以进行 C/S 系统的开发，即可在本机进行，也可在网络中进行。

  ![套接字的建立](/images/webp.png)

<center>图1 套接字的建立</center>

---

### 5、听过Nginx吗？是用来干嘛的

Nginx 是一个开源的，支持高性能、高并发的 web 服务和代理服务软件。

作用：

- 高速高并发访问：它可以对静态资源高速高并发访问以及缓存，能支持几万个并发连接。
- 反向代理：可以使用反向代理加速
- 负载均衡：具有简单的负载均衡、节点健康检查和容错功能
- 资源消耗少：在 3w  的并发量时，开启 10 个 Nginx 线程所消耗的内存不到 200 MB
- 支持异步网络 I/O 事件模型。



---

### 6、在选择服务器上，如何选择合适的服务器？

- 静态业务：若是高并发场景，尽量采用 Nginx 或 Lighttpd ，首选 Nginx。
- 动态业务：理论上采用 Nginx 和 Apache 均可，建议选择 Nginx，为了避免相同业务服务软件多样化，增加额外维护成本。动态业务可以由 Nginx 兼做前端代理，再根据页面元素的类型或目录，转发到后端相应的服务器进行处理。
- 既有静态又有动态业务：采用 Nginx。



---

### 7、介绍一下 MVC 模式

MVC 模式是软件工程中的一种软件架构模式，它把软件划分为三个基本部分：

- 控制器（Controller）：负责处理消息
- 视图（View）：负责显示数据
- 模型（Model）：负责数据访问，即访问数据库

在良好的职责分离的设计下，各个部分可独立行使[单元测试](https://zh.wikipedia.org/wiki/单元测试)，有利于与企业内的自动化测试、[持续集成](https://zh.wikipedia.org/wiki/持續整合)与[持续发行](https://zh.wikipedia.org/w/index.php?title=持續發行&action=edit&redlink=1) 流程集成，减少应用程序改版部署所需的时间。

当然，缺点也是非常明显的：

- 增加了系统结构和实现的复杂性：增加了系统结构和实现的复杂性
- 视图跟控制器过于紧密的连接
- 视图对模型数据的低效率访问：依据模型操作接口的不同，视图可能需要多次调用才能获得足够的显示数据



---

### 8、怎样提取两个文件中的指定列，到一个文件中

即 awk 命令的使用：

假设log.txt的内容如下：

```txt
2 this is a test
3 Are you like awk
This's a test
10 There are orange,apple,mongo
```



- 用法一：

```shell
awk '{[pattern] action}' {filenames}   # 行匹配语句 awk '' 只能用单引号
# 每行按空格或TAB分割，输出文本中的1、4项
$ awk '{print $1,$4}' log.txt
```



- 用法二：

```shell
awk -F  #-F相当于内置变量FS, 指定分割字符
# 使用","分割
$  awk -F, '{print $1,$2}'   log.txt
```



- 用法三：相当于，仅仅是 $+数字  才表示那一列，如果 是数字和字母混在一起，则没用了

```shell
awk -v  # 设置变量
$ awk -va=1 '{print $1,$1+a}' log.txt
 ---------------------------------------------
 2 3
 3 4
 This's 1
 
 $ awk -va=1 -vb=s '{print $1,$1+a,$1b}' log.txt
 ---------------------------------------------
 2 3 2s
 3 4 3s
 This's 1 This'ss
 10 11 10s
```



- 用法四：

```shell
awk -f {awk脚本} {文件名}
$ awk -f cal.awk log.txt

过滤第一列大于2并且第二列等于'Are'的行
$ awk '$1>2 && $2=="Are" {print $1,$2,$3}' log.txt    #命令
#输出
3 Are you
```



---

### 9、cookie 和 session 的区别

#### - Cookie

cookie 是服务器在本地机器上存储的一小段文本<u>【储存在客户端】</u>，并随着每一个请求发送至同一个服务器。网络服务器用 HTTP 头向客户端发送cookie，在客户端，浏览器解析这些 cookie 并将它们保存成本地文件，它会自动将统一服务器的任何请求绑定这些 cookie。

cookie 机制采用的是**<u>在客户端保持状态</u>**的方案。cookie 的作用就是为了解决HTTP协议无状态的缺陷所作的努力。cookie 的主要内容包括：名字，值，过期时间，路径和域。如果没设置时间，则表示 cookie 的生命周期为浏览器会话期间，保存在内存中；若设置了过期时间，浏览器就会把 cookie 存在硬盘上，关闭后再次打开浏览器仍然有效。

存储在硬盘上的cookie可以在不同的浏览器进程间共享，比如两个IE窗口。



#### - session

session机制采用的是一种**<u>在服务器端保持状态</u>**的解决方案

session是储存在服务端的，用 SessionID 来标注不同用户的 session 变量。具体的使用场景可以用在用户使用购物车购买东西的时候。当用户禁用 cookie 时，这个值也可能设置为由 get 来返回给服务器。

从安全性说，session 机制更安全些，因为它不会任意读取客户存储的信息。



#### - 二者区别

1. 存取方式：cookie 只保存 ASCII 串，不能直接存取 java 对象；session 可以保存任何类型的数据。可以当作一个 java  的容器。
2. 隐私策略： cookie 存储在客户端中，对客户端是可见的，客户端的一些程序可能会窥探、复制其中的内容；session 存储在服务器上，对客户端是透明的，不存在敏感信息泄露的风险。
3. 有效期的不同：cookie 的时间长期有效，要想让它长期保持，仅仅需要将 cookie 的过期时间设置为一个很长的数字即可。
4. 服务器压力不同：cookie 不占用服务器资源，对于高并发的情景来说比较适合；相对的， 由于每个用户都会产生一个 session ，假设并发量很大，需要耗费服务器大量内存，所以不太适合。
5. 浏览器支持：cookie 需要客户端支持；若 cookie 被禁用 ，session 进行 URL 重写即可进行会话跟踪。
6. 跨域：cookie 支持跨域名访问，如将 domain 属性设置为 “msq.com”，则以此域名为后缀的子域名都可访问此 cookie ；session 不支持跨域，仅仅在当前所在域名内有效。



---

### 参考资料

- [进程间通信IPC (InterProcess Communication)](https://www.jianshu.com/p/c1015f5ffa74)
- [Cookie 与 Session 的区别](https://juejin.im/entry/5766c29d6be3ff006a31b84e)

- [COOKIE和SESSION有什么区别？](https://www.zhihu.com/question/19786827)
- [Nginx 介绍](https://www.cnblogs.com/wushuaishuai/p/9366402.html)
- [浅谈MVC的优缺点。](https://www.jianshu.com/p/e538c86c5f91)
- [Linux awk 命令](https://www.runoob.com/linux/linux-comm-awk.html)